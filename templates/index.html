<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <title>Sistema de Apostas Certeiras</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script>
        function generateBilhetes() {
            const button = document.getElementById('generateBtn');
            const result = document.getElementById('result');
            button.disabled = true;
            button.innerHTML = '<span class="spinner-border spinner-border-sm" role="status"></span> Gerando...';
            result.innerText = 'Processando...';

            // URL completa da API no Render
            fetch('https://bet1-xwgi.onrender.com/generate', { 
                method: 'POST'
            })
            .then(response => response.json())
            .then(data => {
                result.innerText = data.bilhetes.join('\n\n') + '\n\nStatus: ' + data.status;
                button.disabled = false;
                button.innerHTML = 'Gerar Bilhetes';
            })
            .catch(error => {
                result.innerText = 'Erro: ' + error;
                button.disabled = false;
                button.innerHTML = 'Gerar Bilhetes';
            });
        }
    </script>
</head>
<body class="container mt-5">
    <h1 class="text-center">Sistema de Apostas Certeiras</h1>
    <p class="text-center">Clique para gerar bilhetes com odds >= 2.0 e prob > 60% (configurável). Envia para Telegram automaticamente.</p>
    <div class="text-center">
        <button id="generateBtn" class="btn btn-primary" onclick="generateBilhetes()">Gerar Bilhetes</button>
    </div>
    <pre id="result" class="mt-4 p-3 border bg-light">Resultado aparecerá aqui...</pre>
</body>
</html>
